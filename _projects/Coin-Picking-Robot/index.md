---
layout: post
title: Coin Picking Robot 
description: Designed and built robot capable of detecting, retrieving, and storing coins within a defined perimeter using the EFM8 and STM32 microcontrollers. The system supports both manual (remote-controlled) and autonomous operation. In autonomous mode, the objective is to collect 20 coins within a 0.5 m × 1 m area as quickly as possible. This project was completed in a team of six, and this post highlights the modules I was directly involved with.

skills: 
  - C programming
  - Microcontrollers
  - Hardware wiring
  - Sensors
  - Servos and Motors
main-image: /RobotMain.jpg
---

## Robot Circuitry
{% include image-gallery.html images="RobotCircuit.jpg" height="400" %}

The main modules of the robot circuitry include:
<ul style="color: #e0e0e0; line-height: 1.6; font-size: 16px;">
  <li>Optocouplers used to isolate sensitive components (microcontroller, sensors) from noisy loads (motors, electromagnet)</li>
  <li>H-bridge transistor circuits implemented for reliable motor control</li>
  <li>JDY-40 for manual remote control</li>
  <li>Battery-powered power distribution with regulated 3.3 V and 5 V rails and seperate battery power for motors and electromagnet</li>
  <li>System controlled by EFM8 microcontroller</li>
</ul>

  
## Coin and Perimeter Detection
{% include image-gallery.html images="RobotBottom.jpg" height="400" %}

Shown above are the inductors used for both coin detection and perimeter detection.

The Colpitts oscillator coin detection system works by monitoring frequency changes in an LC circuit. When a coin approaches the inductor, it alters the magnetic field and changes the effective inductance. This shifts the oscillator’s frequency, which is measured through the microcontroller’s ADC. Once the frequency passes a defined threshold, the robot halts and the coin pickup mechanism is triggered.

The perimeter detection system relies on an LC circuit tuned to sense the time-varying magnetic field generated by the AC perimeter wire. The induced voltage is amplified using an op-amp, then passed through a peak detector circuit, which outputs a rectified DC signal. This signal is read by the microcontroller’s ADC and compared against a threshold value. Two perpendicular inductors are used to ensure reliable detection, preventing the robot from stalling in corners. When the boundary is reached, the robot turns away at a randomized angle.

## Coin Picking Mechanism 
The coin-picking arm operates using two stepper motors: one functioning as the shoulder and the other as the elbow. By sending PWM signals at specific frequencies, the stepper motors can be positioned precisely to control the arm’s movement.

The electromagnet was built by tightly winding a large coil of wire, resulting in a resistance of approximately 7Ω to limit current draw. When energized, the coil generates a strong magnetic field capable of lifting the largest denomination of Canadian coins.A transistor is used to turn on the electromagnet through a signal from the micrcontroller. 

## Ultrasonic Sensing 
{% include image-gallery.html images="RobotSonar.jpg" height="400" %}

As an additional feature, I integrated an ultrasonic sensor into the robot to improve obstacle detection and enhance the robustness of autonomous navigation. The sensor operates by emitting ultrasonic waves and measuring the time it takes for the echo to return. This time measurement is converted into distance, allowing the robot to identify objects in its path that are not part of the perimeter.

When the robot detects that it is too close to an object, it responds by turning away at a random angle to continue navigating effectively.

## Project Showcase 

Checkout the project's video and report!

{% include youtube-video.html id="fnM59C7P06g" autoplay = "false" width= "900px" %}  

<a href="https://drive.google.com/file/d/101rXCqt_ncftTJQcAkzx5_E8U2eXSJqr/view?usp=sharing" target="_blank" class="button">View Report</a>
