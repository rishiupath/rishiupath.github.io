---
layout: post
title: Coin Picking Robot 
description: Designed and built robot capable of detecting, retrieving, and storing coins within a defined perimeter using EFM8 and STM32 microcontrollers. The robot has manual operation throuhg a remote and autonomous operation modes. In autonomous mode, its goal is to pickup 20 coins within a 0.5m and 1m area as quick as possible. This project was done in a team of 6 members, I have included the details of modules I was involved with in this project post. 

skills: 
  - C programming
  - Microcontrollers
  - Sensors
  - Servos and Motors
main-image: /RobotMain.jpg
---

## Robot Circuitry
{% include image-gallery.html images="RobotCircuit.jpg" height="400" %}

The main modules of the robot circuitry include:
- Optocouplers for noise isolation between noisy components (motors, electromagnet, etc.) and sensitive components (microcontroller, sensors)
- H-Bridge transistor configurations for motor control
- Power distribution (fully battery powered), 3.3V and 5V voltage regulators
- EFM8 micocontroller
  
## Coin and Perimeter Detection
{% include image-gallery.html images="RobotBottom.jpg" height="400" %}

Depicted is the coin detection and perimeter detection inductors.

The Colpitts oscillator coin detection system works by detecting frequency changes in an LC circuit. As a coin gets closet to the inductor, it affects the inductors magnetic field and changes its effective inductance, this causes a change in the frequency of oscillation which can be detected by using the micrcontrollers ADC. Once the frequency meets a certain threshold, the robot stops and the coin picking mechanism is executed. 

The perimeter detection system works through using a LC circuit to detect the time-varying magenetic field generated by the AC wire perimeter. The induced voltage in the circuit in applified by a gain op-amp and fed into a peak detector circuit which sends the peak voltage (rectified DC) to the micrcontrollers ADC pin where its value can be compared with a threshold value. Two inductors perpendicular to eachother are used to avoid getting stuck in corners. Once reached, the robot turns away from the perimeter at a randomized angle. 

## Coin Picking Mechanism  
The coin picking "arm" works by using two stepper motors, one acting as the "shoulder" and the other as the "elbow". By sending PWM signals at certain frequencies, the position of the motor is set. The electromagnet was made by coilling a large amount of wire with 7 ohms of resistance (to reduce current draw), it works by current flowwing through the coils inducing a magnetic field strong enough to pick up the largets denomination of canadian currency. A transistor is used to turn on the electromagnet through a signal from the MCU. 

## Ultrasonic Sensing 
{% include image-gallery.html images="RobotSonar.jpg" height="400" %}

As a bonus feature to the project, I added an ultrasonic sensor to the  robot to detect objects in its path, even if its not the perimeter which enhances the total robustness of the autonomous navigation. The sensor works by sending ultrasonic waves and measuring the time it takes to receive the wave back. This time can be then be converted to distance. If the robot gets to close to an object, it turns away at a random angle. 

## Project Showcase 

Checkout the projects YouTube video and report!

{% include youtube-video.html id="fnM59C7P06g" autoplay = "false" width= "900px" %}  

[Report](https://drive.google.com/file/d/101rXCqt_ncftTJQcAkzx5_E8U2eXSJqr/view?usp=sharing)

<a href="https://example.com/your-file.pdf" target="_blank" class="button">View PDF</a>
